/// <reference types="node" />
import { EventEmitter } from 'events';
import { JsonRpcConnection, JsonRpcPayload } from './types';
export declare class WsConnection implements JsonRpcConnection {
    url: string;
    events: EventEmitter;
    private socket;
    private registering;
    constructor(url: string);
    get connected(): boolean;
    get connecting(): boolean;
    on(event: string, listener: any): void;
    removeListener(event: string, listener: any): void;
    open(url?: string): Promise<void>;
    close(): Promise<void>;
    send(payload: JsonRpcPayload, _context?: any): Promise<void>;
    private register;
    private onOpen;
    private onClose;
    private onPayload;
}
