% This file should only be \input{} in a document that loads the tikz package
% Do not compile this file directly with pdflatex

\begin{figure}[ht]
    \centering
    \begin{tikzpicture}[font=\scriptsize, node distance=5cm]
        % Define nodes - using styles compatible with main document
        \node[draw, rectangle, fill=blue!20, text width=2.5cm, text centered, rounded corners] (dapp) at (0,5) {dApp};
        \node[draw, rectangle, fill=blue!20, text width=3.5cm, text centered, rounded corners] (gasbank) at (0,0) {Gas Bank Service};
        \node[draw, ellipse, fill=red!20, minimum width=2.5cm] (wallet) at (-5,2.5) {User Wallet};
        \node[draw, ellipse, fill=red!20, minimum width=2.5cm] (neo) at (5,2.5) {Neo Blockchain};
        
        % Define connections - using draw commands instead of path
        \draw [-latex'] (dapp) -- node[above-arrow-text] {1. Request gas} (gasbank);
        \draw [-latex'] (gasbank) -- node[below-arrow-text, sloped] {2. Charge fee} (wallet);
        \draw [-latex'] (gasbank) -- node[below-arrow-text, sloped] {3. Submit tx} (neo);
        \draw [-latex'] (neo) -- node[above-arrow-text, sloped] {4. Confirm tx} (dapp);
    \end{tikzpicture}
    \caption{Gas Bank Operation Flow}
    \label{fig:gas-bank-operations}
\end{figure}
